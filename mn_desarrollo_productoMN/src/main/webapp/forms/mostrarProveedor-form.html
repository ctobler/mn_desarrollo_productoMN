<center>
	<h3><strong>Fabricaci칩n Producto</strong></h3>
	<p>Producci칩n Actual de Producto</p>
</center>

<form role="form" name="form" class="form-horizontal" >

 <script cam-script type="text/form-script">

	//traer la variable de java llamada 'dataProductoMN'
 	camForm.on('form-loaded', function() {
		camForm.variableManager.fetchVariable('dataProductoMN');		
	});
	camForm.on('variables-fetched', function() {
		$scope.dataProductoMN= camForm.variableManager.variable('dataProductoMN').value;
	});

	//traer variable 'pago' ingresada en el start-form	
	camForm.on('form-loaded', function() {
  		camForm.variableManager.fetchVariable('pago');
	});
	camForm.on('variables-fetched', function() {
  		$scope.pago = camForm.variableManager.variableValue('pago');
	});

	//traer variable 'MONEDA_PRESUPUESTO' 
	camForm.on('form-loaded', function() {
  		camForm.variableManager.fetchVariable('MONEDA_PRESUPUESTO');
	});
	camForm.on('variables-fetched', function() {
  		$scope.MONEDA_PRESUPUESTO = camForm.variableManager.variableValue('MONEDA_PRESUPUESTO');
	});

	//traer variable 'TIPO_CLIENTE'
	camForm.on('form-loaded', function() {
  		camForm.variableManager.fetchVariable('TIPO_CLIENTE');
	});
	camForm.on('variables-fetched', function() {
  		$scope.TIPO_CLIENTE = camForm.variableManager.variableValue('TIPO_CLIENTE');
	});

	//traer variable 'NOMBRE_CLIENTE'
	//camForm.on('form-loaded', function() {
  	//	camForm.variableManager.fetchVariable('NOMBRE_CLIENTE');
	//});
	//camForm.on('variables-fetched', function() {
  	//	$scope.NOMBRE_CLIENTE = camForm.variableManager.variableValue('NOMBRE_CLIENTE');
	//});

	//traer variable 'UNIDADES_PRESUPUESTO'
	camForm.on('form-loaded', function() {
  		camForm.variableManager.fetchVariable('UNIDADES_PRESUPUESTO');
	});
	camForm.on('variables-fetched', function() {
  		$scope.UNIDADES_PRESUPUESTO = camForm.variableManager.variableValue('UNIDADES_PRESUPUESTO');
	});
	
	//traer variable 'NOMBRE_PRODUCTO'
	camForm.on('form-loaded', function() {
  		camForm.variableManager.fetchVariable('NOMBRE_PRODUCTO');
	});
	camForm.on('variables-fetched', function() {
  		$scope.NOMBRE_PRODUCTO = camForm.variableManager.variableValue('NOMBRE_PRODUCTO');
	});

	//traer variable 'COSTO_PRESUPUESTO'
	camForm.on('form-loaded', function() {
  		camForm.variableManager.fetchVariable('COSTO_PRESUPUESTO');
	});
	camForm.on('variables-fetched', function() {
  		$scope.COSTO_PRESUPUESTO = camForm.variableManager.variableValue('COSTO_PRESUPUESTO');
	});

	//traer variable 'COTIZACION_DOLAR'
	camForm.on('form-loaded', function() {
  		camForm.variableManager.fetchVariable('COTIZACION_DOLAR');
	});
	camForm.on('variables-fetched', function() {
  		$scope.COTIZACION_DOLAR = camForm.variableManager.variableValue('COTIZACION_DOLAR');
	});

 </script>
 
<div class="control-group">
	<label for="ORDEN_COMPRA" class="control-label"><b>Orden de Compra:</b></label>    	
	<select cam-variable-name="cotizacion"
     		cam-variable-type="String"
            cam-choices="PRESUPUESTOS_APROBADOS"
            ng-required="!cancelarProduccion"
            readonly
            class="form-control">
	</select>
<!-- 	<p><b>Cliente:</b></p> -->
<!--     <p>{{NOMBRE_CLIENTE}}</p> -->
    <p><b>Producto:</b></p>
    <p>{{UNIDADES_PRESUPUESTO+" "+NOMBRE_PRODUCTO+" ("+dataProductoMN.trabajoRealizado+")"}}</p>    	
	<p><b>Precio de Venta: </b></p>
  	<p>{{MONEDA_PRESUPUESTO}} {{COSTO_PRESUPUESTO | number : 2}}</p>
	<p><b>Costo de Producci칩n:</b></p>
	<p>{{MONEDA_PRESUPUESTO}} {{dataProductoMN.total| number : 2}}</p>
	<p><b>Ganancia:</b></p>
    <p>{{MONEDA_PRESUPUESTO}} {{(COSTO_PRESUPUESTO - dataProductoMN.total) | number : 2}}</p>
    <p><b>Se침a Recibida: </b></p>
  	<p>{{pago.moneda+" "}} {{pago.senia | number : 2}}</p>
  		
	<p align="center"><b>Proveedores</b></p>
	<br>
    <div ng-repeat="prov in dataProductoMN.proveedoresMN">
		<br>
		<p><b>Nombre Proveedor: </b>{{prov.tipoProveedor}}</p>
   		<p><b>Precio Proveedor: </b>{{prov.moneda}} {{prov.precio | number : 2}} {{"("+prov.ivaProveedor+")"}}</p>
   		<p><b>Detalles Proveedor: </b>{{prov.detalles}}</p>
    	<hr>
    </div>
</div>

</form>