<center>
	<h1><strong>Desarrollo Producto</strong></h1>
	<h2><p>Producto en producción</p></h2>
</center>

<form role="form" name="form" class="form-horizontal" >

 <script cam-script type="text/form-script">

 	camForm.on('form-loaded', function() {

		//traer la variable de java llamada 'dataProductoMN'
		camForm.variableManager.fetchVariable('dataProductoMN');
		
	});

	camForm.on('variables-fetched', function() {

		//trabajar con la variable (atarla al objeto $scope de AngularJS)
		$scope.dataProductoMN= camForm.variableManager.variable('dataProductoMN').value;
		
	});

	//traer variable 'pago' ingresada en el start-form	
	camForm.on('form-loaded', function() {
  	// tell the form SDK to fetch the json variable named 'pago'
  		camForm.variableManager.fetchVariable('pago');
	});

	camForm.on('variables-fetched', function() {
  	// trabajar con valor de variable 'pago' (atar su valor a AngularJS $scope)
  		$scope.pago = camForm.variableManager.variableValue('pago');
	});

 </script>
 
<div class="control-group">
    <div class="controls">
    	<label for="ORDEN_COMPRA" class="control-label"><b>Orden de Compra:</b></label>    	
   		<input type="text" 
    	   	   cam-variable-name="ORDEN_COMPRA"
    	   	   class="form-control"
     	   	   readonly>
    	
    	<label for="NOMBRE_CLIENTE" class="control-label"><b>Nombre del Cliente:</b></label>    	
   		<input type="text" 
    	   	   cam-variable-name="NOMBRE_CLIENTE"
    	   	   class="form-control"
     	   	   readonly>
     	
    	<label for="NOMBRE_CLIENTE" class="control-label"><b>Precio Final de Venta:</b></label>    	
     	<input type="number" 
    	   	   cam-variable-name="COSTO_PRESUPUESTO"
    	   	   class="form-control"
     	   	   readonly>
     	
     	
     	<p><b>Producto:</b></p>
    	<p>{{dataProductoMN.cantidad+" "+dataProductoMN.nombre+" ("+ dataProductoMN.trabajoRealizado+ ")"}}</p>    	
		<p><b>Precio de Venta: </b></p>
  		<p>{{MONEDA_PRESUPUESTO +" "+ COSTO_PRESUPUESTO}}</p>
		<p><b>Costo de Producción:</b></p>
		<p>{{dataProductoMN.moneda+" "+dataProductoMN.total+" "+dataProductoMN.ivaProducto}}</p>
		<p><b>Ganancia:</b></p>
		<p>{{COSTO_PRESUPUESTO - dataProductoMN.total}}</p>
      	<p><b>Seña Recibida: </b></p>
  		<p>{{pago.moneda +" "+ pago.senia}}</p>
  		<p><b>Saldo a Recibir: </b></p>
  		<p>{{pago.moneda +" "+ (COSTO_PRESUPUESTO - pago.senia)}}</p>
  		
		<p align="center"><b>Proveedores</b></p>
		<br>
      	<div ng-repeat="prov in dataProductoMN.proveedoresMN">
			<br>
			<p><b>Nombre Proveedor: </b>{{prov.tipoProveedor}}</p>
   			<p><b>Precio Proveedor: </b>{{prov.moneda+" "+prov.precio+" "+prov.ivaProveedor}}</p>
   			<p><b>Detalles Proveedor: </b>{{prov.detalles}}</p>
      		<hr>
      	</div>
  
    </div>
</div>

</form>