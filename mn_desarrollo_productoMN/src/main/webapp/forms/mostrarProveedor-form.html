<center>
	<h3><strong>Fabricaci칩n Producto</strong></h3>
	<p>Producci칩n Actual de Producto</p>
</center>

<form role="form" name="form" class="form-horizontal" >

 <script cam-script type="text/form-script">

	var monedaGanancia= $scope.monedaGanancia = 'USD'

 	camForm.on('form-loaded', function() {

		//traer la variable de java llamada 'dataProductoMN'
		camForm.variableManager.fetchVariable('dataProductoMN');
		
	});

	camForm.on('variables-fetched', function() {

		//trabajar con la variable (atarla al objeto $scope de AngularJS)
		$scope.dataProductoMN= camForm.variableManager.variable('dataProductoMN').value;
		
	});

	//traer variable 'pago' ingresada en el start-form	
	camForm.on('form-loaded', function() {
  	// tell the form SDK to fetch the json variable named 'pago'
  		camForm.variableManager.fetchVariable('pago');
	});

	camForm.on('variables-fetched', function() {
  	// trabajar con valor de variable 'pago' (atar su valor a AngularJS $scope)
  		$scope.pago = camForm.variableManager.variableValue('pago');
	});

	//traer variable 'MONEDA_PRESUPUESTO' 
	camForm.on('form-loaded', function() {
  		camForm.variableManager.fetchVariable('MONEDA_PRESUPUESTO');
	});

	camForm.on('variables-fetched', function() {
  		$scope.MONEDA_PRESUPUESTO = camForm.variableManager.variableValue('MONEDA_PRESUPUESTO');
	});

	//traer variable 'COSTO_PRESUPUESTO' 
	camForm.on('form-loaded', function() {
  		camForm.variableManager.fetchVariable('COSTO_PRESUPUESTO');
	});

	camForm.on('variables-fetched', function() {
  		$scope.COSTO_PRESUPUESTO = camForm.variableManager.variableValue('COSTO_PRESUPUESTO');
	});


 </script>
 
<div class="control-group">
    <div class="controls">
    	<label for="ORDEN_COMPRA" class="control-label"><b>Orden de Compra:</b></label>    	
   		<input type="text" 
    	   	   cam-variable-name="ORDEN_COMPRA"
    	   	   class="form-control"
     	   	   readonly>
     	     	
     	<p><b>Producto:</b></p>
    	<p>{{dataProductoMN.cantidad+" "+dataProductoMN.nombre+" ("+ dataProductoMN.trabajoRealizado+ ")"}}</p>    	
		<p><b>Precio de Venta: </b></p>
  		<p>{{MONEDA_PRESUPUESTO +" "+ COSTO_PRESUPUESTO}}</p>
		<p><b>Costo de Producci칩n:</b></p>
		<p>{{dataProductoMN.moneda+" "+dataProductoMN.total+" "}}</p>
		<p><b>Ganancia:</b></p>
		<p>{{monedaGanancia + " " + (COSTO_PRESUPUESTO - dataProductoMN.total) }}</p>
      	<p><b>Se침a Recibida: </b></p>
  		<p>{{pago.moneda +" "+ pago.senia}}</p>
  		<p><b>Saldo a Recibir: </b></p>
  		<p>{{pago.moneda +" "+ (COSTO_PRESUPUESTO - pago.senia)}}</p>
  		
		<p align="center"><b>Proveedores</b></p>
		<br>
      	<div ng-repeat="prov in dataProductoMN.proveedoresMN">
			<br>
			<p><b>Nombre Proveedor: </b>{{prov.tipoProveedor}}</p>
   			<p><b>Precio Proveedor: </b>{{prov.moneda+" "+prov.precio+" "+"("+prov.ivaProveedor+")"}}</p>
   			<p><b>Detalles Proveedor: </b>{{prov.detalles}}</p>
      		<hr>
      	</div>
  
    </div>
</div>

</form>