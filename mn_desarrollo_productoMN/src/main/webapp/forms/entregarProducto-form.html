<center>
	<h1><strong>Desarrollo Producto</strong></h1>
	<h2><p>Realizar entrega</p></h2>
</center>

<form role="form" name="form" class="form-horizontal" >

 <script cam-script type="text/form-script">

 	camForm.on('form-loaded', function() {

		//traer la variable de java llamada 'dataProductoMN'
		camForm.variableManager.fetchVariable('dataProductoMN');
		
	});

	camForm.on('variables-fetched', function() {

		//trabajar con la variable (atarla al objeto $scope de AngularJS)
		$scope.dataProductoMN= camForm.variableManager.variable('dataProductoMN').value;
		
	});

	//traer variable 'pago' ingresada en el start-form	
	camForm.on('form-loaded', function() {
  	// tell the form SDK to fetch the json variable named 'pago'
  		camForm.variableManager.fetchVariable('pago');
	});

	camForm.on('variables-fetched', function() {
  	// trabajar con valor de variable 'pago' (atar su valor a AngularJS $scope)
  		$scope.pago = camForm.variableManager.variableValue('pago');
	});

	//traer variable 'tazaCambio' 
	camForm.on('form-loaded', function() {
  	// tell the form SDK to fetch the json variable named 'tazaCambio'
  		camForm.variableManager.fetchVariable('tazaCambio');
	});

	camForm.on('variables-fetched', function() {
  	// trabajar con valor de variable 'tazaCambio' (atar su valor a AngularJS $scope)
  		$scope.tazaCambio = camForm.variableManager.variableValue('tazaCambio');
	});


	$scope.calcularSaldo(costoTotal,senia, tasa)
	{
		saldo=0;

		if (pago.moneda == '$U')
			saldo= costoTotal - (senia/tasa);
		else
			saldo= costoTotal - senia;

		return saldo;
	}

 </script>
 
<div class="control-group">
    <div class="controls">
    	<p><b>Saldo a recibir: </b></p>
  		<p>{{dataProductoMN.moneda+" "+dataProductoMN.total-pago.senia}}</p>
    	
    	<label for="ORDEN_COMPRA" class="control-label"><b>Orden de Compra:</b></label>    	
   		<input type="text" 
    	   	   cam-variable-name="ORDEN_COMPRA"
    	   	   class="form-control"
     	   	   readonly>
    	
    	<label for="NOMBRE_CLIENTE" class="control-label"><b>Nombre del Cliente:</b></label>    	
   		<input type="text" 
    	   	   cam-variable-name="NOMBRE_CLIENTE"
    	   	   class="form-control"
     	   	   readonly>

    	<p><b>Producto:</b></p>
    	<p>{{dataProductoMN.cantidad+" "+dataProductoMN.nombre+" ("+ dataProductoMN.trabajoRealizado+ ")"}}</p>    	
		<p><b>Total:</b></p>
		<p>{{dataProductoMN.moneda+" "+dataProductoMN.total+" "+dataProductoMN.ivaProducto}}</p>
      	<p><b>Se√±a recibida: </b></p>
  		<p>{{pago.moneda +" "+ pago.senia}}</p>
  				      	
      <p align="right"><b>(entregar)</b></p>     
    </div>
</div>

</form>